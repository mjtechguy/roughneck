---
# =============================================================================
# Git Installation Role
# =============================================================================
# Installs git and sets default branch. User name/email are configured
# via the setup wizard after deployment.

- name: Ensure git is installed
  apt:
    name: git
    state: present

- name: Configure git default branch
  become_user: "{{ roughneck_user }}"
  git_config:
    name: init.defaultBranch
    value: main
    scope: global
